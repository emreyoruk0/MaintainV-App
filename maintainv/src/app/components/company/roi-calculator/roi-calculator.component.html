<app-navigator firstTitle="ROI Calculator"></app-navigator>

<main class="content p-5">
  <section class="row justify-content-around mt-5">
    <div class="col-lg-5 col-12 card mt-5 p-5">
      <img width="1024" height="984" src="sources/source1.webp" alt="ROI Calculator"/>
      <h1 class="mt-5">ROI CALCULATOR</h1>
    </div>
    <aside class="col-lg-6 col-12 mt-5 card">
      <section>

        @if (!isCalculated) {
          <form class="row mb-4" #roiForm="ngForm" (ngSubmit)="calculateROI(roiForm)">
            <div class="col-lg-6 col-12">
              <label>
                Number of Machines in the Business (Number)
              </label>
                <input
                  placeholder="5"
                  type="number"
                  formcontrolname="machineNumber"
                  class="form-control"
                  ngModel
                  name="machineNumber"
                  id="machineNumber"
                  required
                  #machineNumber
                  [appIsValid]="machineNumber"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Daily Working Time(Hours)
              </label>
                <input
                  placeholder="12"
                  type="number"
                  formcontrolname="dailyHour"
                  class="form-control"
                  ngModel
                  name="dailyHour"
                  id="dailyHour"
                  required
                  #dailyHour
                  [appIsValid]="dailyHour"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                1 Machine Working Days per Week
              </label>
                <input
                  placeholder="5"
                  type="number"
                  formcontrolname="workingDayNumber"
                  class="form-control"
                  ngModel
                  name="workingDayNumber"
                  id="workingDayNumber"
                  required
                  #workingDayNumber
                  [appIsValid]="workingDayNumber"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                1 Machine 1 Hour Produced Commercial Value ($)
              </label>
                <input
                  placeholder="$"
                  type="number"
                  formcontrolname="hourlyCost"
                  class="form-control"
                  ngModel
                  name="hourlyCost"
                  id="hourlyCost"
                  required
                  #hourlyCost
                  [appIsValid]="hourlyCost"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Total Turnover of 1 Machine Park ($)
              </label>
                <input
                  type="number"
                  placeholder="$"
                  formcontrolname="totalMoney"
                  class="form-control"
                  ngModel
                  name="totalMoney"
                  id="totalMoney"
                  required
                  #totalMoney
                  [appIsValid]="totalMoney"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Operator Salary Cost ($)
              </label>
                <input
                  placeholder="$"
                  type="number"
                  formcontrolname="employeeCost"
                  class="form-control"
                  ngModel
                  name="employeeCost"
                  id="employeeCost"
                  required
                  #employeeCost
                  [appIsValid]="employeeCost"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Number of Operators per Machine
              </label>
                <input
                  placeholder="4"
                  type="number"
                  formcontrolname="employeePiece"
                  class="form-control text-muted"
                  ngModel
                  name="employeePiece"
                  id="employeePiece"
                  required
                  #employeePiece
                  [appIsValid]="employeePiece"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Break Time in Business (Monthly)
              </label>
                <input
                  placeholder="72"
                  type="number"
                  formcontrolname="breakTime"
                  class="form-control"
                  ngModel
                  name="breakTime"
                  id="breakTime"
                  required
                  #breakTime
                  [appIsValid]="breakTime"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                Downtime in Operation (Hours)
              </label>
                <input
                  placeholder="24"
                  type="number"
                  formcontrolname="downTime"
                  class="form-control"
                  ngModel
                  name="downTime"
                  id="downTime"
                  required
                  #downTime
                  [appIsValid]="downTime"/>
            </div>
            <div class="col-lg-6 col-12">
              <label>
                1 Machine Monthly Electricity Expense ($)
              </label>
                <input
                  placeholder="$"
                  type="number"
                  formcontrolname="electricCost"
                  class="form-control"
                  ngModel
                  name="electricCost"
                  id="electricCost"
                  required
                  #electricCost
                  [appIsValid]="electricCost"/>
            </div>
            <div class="col-lg-6 col-12">
              <button id="submitButton" type="submit" class="btn btn-outline-primary">
                Calculate
              </button>
            </div>
          </form>
        }


        @if (isCalculated) {
          <div id="hidden" class="row mb-4">
            <table>
              <thead>
                <tr>
                  <th>Explanation</th>
                  <th>Cost</th>
                </tr>
              </thead>
              <hr/>
              <tbody>
                <tr>
                  <td>Monthly Downtime Cost</td>
                  <td>0 $</td>
                </tr>
                <tr>
                  <td>Monthly Downtime Cost from Total Turnover</td>
                  <td>2 $</td>
                </tr>
                <tr>
                  <td>Labor Cost of Monthly Downtime</td>
                  <td>0.01 $</td>
                </tr>
                <tr>
                  <td>Electricity Cost of Maintenance</td>
                  <td>0.01 $</td>
                </tr>
                <tr>
                  <td>Total Maintenance Cost</td>
                  <td>2.02 $</td>
                </tr>
                <div class="col-lg-6 col-12 p-3">
                  <button (click)="isCalculated = false" class="btn btn-outline-primary text-center mt-2">
                    Back to Calculation
                  </button>
                </div>
              </tbody>
            </table>
          </div>
        }
      </section>
    </aside>
  </section>
</main>
